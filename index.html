<!DOCTYPE html>
<!-- The lang and dir attributes will be set by JavaScript -->
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="app-title">ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø²Ø¨Ø§Ù† Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f7fafc;
            color: #2d3748;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease-in-out;
        }
        select, input[type="text"], textarea, input[type="file"] {
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
            transition: box-shadow 0.2s ease-in-out;
        }
        select:focus, input[type="text"]:focus, textarea:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
            border-color: #4299e1;
        }
        .result-item {
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        .result-header {
            cursor: pointer;
            padding: 1rem;
            background-color: #f7fafc;
            transition: background-color 0.2s;
        }
        .result-header:hover {
            background-color: #edf2f7;
        }
        .result-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            padding: 0 1.5rem;
        }
        .result-details.open {
            max-height: 1200px; /* Increased for content */
            padding: 1.5rem;
        }
        .speak-btn {
            cursor: pointer;
            transition: transform 0.2s;
        }
        .speak-btn:hover {
            transform: scale(1.1);
        }
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #4a90e2;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* Style for drag-and-drop area */
        .drop-zone {
            border: 2px dashed #e2e8f0;
            transition: border-color 0.3s, background-color 0.3s;
        }
        .drag-over {
            border-color: #4299e1;
            background-color: #ebf8ff;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Language Switcher -->
    <div class="max-w-4xl mx-auto mb-4 flex justify-end">
        <select id="ui-lang-switcher" class="p-2 bg-white">
            <option value="fa">ÙØ§Ø±Ø³ÛŒ</option>
            <option value="en">English</option>
            <option value="de">Deutsch</option>
            <option value="fr">FranÃ§ais</option>
            <option value="es">EspaÃ±ol</option>
            <option value="zh">ä¸­æ–‡</option>
            <option value="tr">TÃ¼rkÃ§e</option>
            <option value="it">Italiano</option>
            <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
        </select>
    </div>

    <div id="app-container" class="max-w-4xl mx-auto">
        <!-- Setup View -->
        <div id="setup-view" class="card p-6 md:p-8">
            <div class="text-center mb-8">
                <h1 id="main-title" class="text-3xl md:text-4xl font-bold text-gray-800">Ø³Ø§Ø²Ù†Ø¯Ù‡ ÙˆØ§Ú˜Ú¯Ø§Ù† Ù‡ÙˆØ´Ù…Ù†Ø¯</h1>
                <p id="subtitle" class="text-gray-600 mt-2">Ø²Ø¨Ø§Ù† Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡ Ùˆ Ù…ØªÙ† Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.</p>
            </div>

            <!-- Language & Level Selection -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div>
                    <label id="source-lang-label" for="source-lang" class="block text-sm font-medium text-gray-700 mb-1">Ø²Ø¨Ø§Ù† Ù…Ø§Ø¯Ø±ÛŒ Ù…Ù†</label>
                    <select id="source-lang" class="w-full p-2">
                        <option value="Persian">ÙØ§Ø±Ø³ÛŒ</option>
                        <option value="English">English</option>
                        <option value="German">Deutsch</option>
                        <option value="French">FranÃ§ais</option>
                        <option value="Spanish">EspaÃ±ol</option>
                        <option value="Chinese">ä¸­æ–‡</option>
                        <option value="Turkish">TÃ¼rkÃ§e</option>
                        <option value="Italian">Italiano</option>
                        <option value="Russian">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    </select>
                </div>
                <div>
                    <label id="target-lang-label" for="target-lang" class="block text-sm font-medium text-gray-700 mb-1">Ø²Ø¨Ø§Ù†ÛŒ Ú©Ù‡ ÛŒØ§Ø¯ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…</label>
                    <select id="target-lang" class="w-full p-2">
                        <option value="English">English</option>
                        <option value="German">Deutsch</option>
                        <option value="French">FranÃ§ais</option>
                        <option value="Spanish">EspaÃ±ol</option>
                        <option value="Persian">ÙØ§Ø±Ø³ÛŒ</option>
                        <option value="Chinese">ä¸­æ–‡</option>
                        <option value="Turkish">TÃ¼rkÃ§e</option>
                        <option value="Italian">Italiano</option>
                        <option value="Russian">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    </select>
                </div>
                <div>
                    <label id="user-level-label" for="user-level" class="block text-sm font-medium text-gray-700 mb-1">Ø³Ø·Ø­ Ù…Ù†</label>
                    <select id="user-level" class="w-full p-2">
                        <option value="Unspecified" id="level-unspecified">Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</option>
                        <option value="A1 (Beginner)" id="level-a1">A1 (Ù…Ø¨ØªØ¯ÛŒ)</option>
                        <option value="A2 (Elementary)" id="level-a2">A2 (Ø§Ø¨ØªØ¯Ø§ÛŒÛŒ)</option>
                        <option value="B1 (Intermediate)" id="level-b1">B1 (Ù…ØªÙˆØ³Ø·)</option>
                        <option value="B2 (Upper-Intermediate)" id="level-b2">B2 (ÙÙˆÙ‚ Ù…ØªÙˆØ³Ø·)</option>
                        <option value="C1 (Advanced)" id="level-c1">C1 (Ù¾ÛŒØ´Ø±ÙØªÙ‡)</option>
                    </select>
                </div>
            </div>

            <!-- Input Area with Drag and Drop -->
            <div id="drop-zone" class="drop-zone p-4 rounded-lg">
                <textarea id="text-input" rows="10" class="w-full p-3"></textarea>
                <div class="flex justify-between items-center mt-4">
                    <div class="flex items-center gap-2">
                       <label for="file-upload" class="bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-300 rounded-lg shadow-sm cursor-pointer">
                           <span id="upload-btn-text">Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ (.txt, .srt)</span>
                       </label>
                       <input id="file-upload" type="file" class="hidden" accept=".txt,.srt">
                       <span id="file-name" class="text-sm text-gray-500"></span>
                    </div>
                    <button id="process-btn" class="bg-blue-600 text-white font-bold py-2 px-8 rounded-lg hover:bg-blue-700 transition-colors shadow-md">
                        ØªØ­Ù„ÛŒÙ„ Ú©Ù†
                    </button>
                </div>
                 <p id="error-msg" class="text-red-500 text-sm mt-2 text-center hidden"></p>
            </div>
        </div>

        <!-- Results View -->
        <div id="results-view" class="hidden mt-8">
            <div class="flex justify-between items-center mb-6">
                <h2 id="results-title" class="text-2xl md:text-3xl font-bold text-gray-800">Ù†ØªØ§ÛŒØ¬ ØªØ­Ù„ÛŒÙ„</h2>
                <button id="start-over-btn" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors">
                    Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡
                </button>
            </div>
            <div id="loader" class="flex justify-center items-center p-16 hidden"><div class="loader"></div></div>
            <div id="results-list" class="card"></div>
        </div>
    </div>

<script>
    // --- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø±Ù†Ø§Ù…Ù‡ ---
    const PROXY_URL = 'https://language-learner.qaderi.workers.dev/';

    // --- Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¹Ù†Ø§ØµØ± ØµÙØ­Ù‡ ---
    const setupView = document.getElementById('setup-view');
    const resultsView = document.getElementById('results-view');
    const processBtn = document.getElementById('process-btn');
    const startOverBtn = document.getElementById('start-over-btn');
    const textInput = document.getElementById('text-input');
    const fileUpload = document.getElementById('file-upload');
    const fileNameEl = document.getElementById('file-name');
    const errorMsg = document.getElementById('error-msg');
    const userLevelSelect = document.getElementById('user-level');
    const sourceLangSelect = document.getElementById('source-lang');
    const targetLangSelect = document.getElementById('target-lang');
    const loader = document.getElementById('loader');
    const resultsList = document.getElementById('results-list');
    const uiLangSwitcher = document.getElementById('ui-lang-switcher');
    const dropZone = document.getElementById('drop-zone');


    // --- Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ ---
    processBtn.addEventListener('click', handleProcessRequest);
    startOverBtn.addEventListener('click', () => {
        resultsView.classList.add('hidden');
        setupView.classList.remove('hidden');
        textInput.value = '';
        fileUpload.value = '';
        fileNameEl.textContent = '';
        resultsList.innerHTML = '';
    });

    fileUpload.addEventListener('change', (event) => {
        const file = event.target.files[0];
        if (file) {
            handleFile(file);
        }
    });

    // --- Drag and Drop Events ---
    dropZone.addEventListener('dragover', (event) => {
        event.preventDefault();
        dropZone.classList.add('drag-over');
    });

    dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('drag-over');
    });

    dropZone.addEventListener('drop', (event) => {
        event.preventDefault();
        dropZone.classList.remove('drag-over');
        const file = event.dataTransfer.files[0];
        if (file) {
            handleFile(file);
        }
    });
    
    // --- Language Switcher Event ---
    uiLangSwitcher.addEventListener('change', (event) => {
        setLanguage(event.target.value);
    });


    // --- ØªÙˆØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ ---
    function handleFile(file) {
        if (file.type === "text/plain" || file.name.endsWith('.srt')) {
            fileNameEl.textContent = file.name;
            const reader = new FileReader();
            reader.onload = (e) => {
                textInput.value = e.target.result;
            };
            reader.readAsText(file);
        } else {
            fileNameEl.textContent = "File not supported";
        }
    }


    function handleProcessRequest() {
        const text = textInput.value.trim();
        const level = userLevelSelect.value;

        if (text.length > 200 && level === 'Unspecified') {
            showError(uiStrings[currentLang].errorLevel);
            return;
        }
        
        if (!text) {
            showError(uiStrings[currentLang].errorText);
            return;
        }

        hideError();
        setupView.classList.add('hidden');
        resultsView.classList.remove('hidden');
        loader.classList.remove('hidden');
        resultsList.innerHTML = '';

        callAI(text);
    }

    function buildPrompt(text) {
        const sourceLang = sourceLangSelect.value;
        const targetLang = targetLangSelect.value;
        const level = userLevelSelect.value;
        
        const isWordList = text.split(/\s+/).length < 30 && !text.includes('\n\n');
        
        let taskDescription;
        if (isWordList) {
            taskDescription = `For EACH word/phrase in the following list: "${text}", provide a detailed analysis.`;
        } else {
            taskDescription = `Analyze the following text. Extract the most important and practical words, idioms, and common phrases that are suitable for a ${level} learner. For EACH item you extract, provide a detailed analysis.`;
        }

        return `
            You are an expert language tutor AI. Your goal is to help a user learn new vocabulary.
            The user's native language is ${sourceLang}. They are learning ${targetLang} at a ${level} proficiency level.

            TASK: ${taskDescription}

            For EACH item, provide the analysis in the following structured format EXACTLY. Use "---" as a separator between each item. Do not add any text before the first item or after the last item.

            Word: [The extracted word or phrase in ${targetLang}]
            Translation: [The translation in ${sourceLang}]
            Definition: [A simple definition in ${targetLang} suitable for a ${level} learner]
            Grammar: [Part of speech, e.g., noun, verb, adjective, idiom]
            Collocations: [Common word combinations, or "N/A"]
            Examples:
            1. [Example 1 in ${targetLang}] - [Translation of Example 1 in ${sourceLang}]
            2. [Example 2 in ${targetLang}] - [Translation of Example 2 in ${sourceLang}]
            Common Mistakes: [Common mistakes or "nothing specific"]
            Context/Note: [Extra notes on usage, formality, etc., or "N/A"]
            ---
            
            ${isWordList ? '' : `Here is the text to analyze:\n\n${text}`}
        `;
    }

    async function callAI(text) {
        const prompt = buildPrompt(text);
        
        try {
            const response = await fetch(PROXY_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ prompt: prompt })
            });

            if (!response.ok) throw new Error(`Network response was not ok: ${response.statusText}`);

            const data = await response.json();
            
            if (data.candidates && data.candidates[0].content.parts[0].text) {
                const aiResponse = data.candidates[0].content.parts[0].text;
                renderResults(aiResponse);
            } else {
                 resultsList.innerHTML = `<p class="text-center p-8 text-red-500">${data?.error?.message || uiStrings[currentLang].errorAIResponse}</p>`;
            }

        } catch (error) {
            console.error("AI Call Error:", error);
            resultsList.innerHTML = `<p class="text-center p-8 text-red-500">${uiStrings[currentLang].errorServer}</p>`;
        } finally {
            loader.classList.add('hidden');
        }
    }

    function parseAIResponse(responseText) {
         const items = responseText.split('---').filter(item => item.trim() !== '');
        return items.map(itemText => {
            const lines = itemText.trim().split('\n');
            const data = {};
            let currentKey = '';
            lines.forEach(line => {
                const parts = line.split(':');
                if (parts.length > 1) {
                    const key = parts[0].trim().toLowerCase().replace(/ /g, '');
                    data[key] = parts.slice(1).join(':').trim();
                    currentKey = key;
                } else if (currentKey === 'examples' && line.trim().match(/^\d+\./)) {
                    if(!data.exampleslist) data.exampleslist = [];
                    data.exampleslist.push(line.trim());
                }
            });
            return data;
        });
    }

    function renderResults(aiResponse) {
        const parsedData = parseAIResponse(aiResponse);
        const lang = currentLang;
        const isRtl = lang === 'fa';

        resultsList.dir = isRtl ? 'rtl' : 'ltr';

        if (parsedData.length === 0 || parsedData.some(item => !item.word)) {
            resultsList.innerHTML = `<p class="text-center p-8 text-gray-600">${uiStrings[lang].errorNoResults}</p>`;
            return;
        }

        let html = '<div class="p-4 md:p-6 space-y-4">';
        const listPaddingClass = isRtl ? 'pr-6' : 'pl-6';

        parsedData.forEach((item, index) => {
            const targetLangCode = getLangCode(targetLangSelect.value);

            html += `
                <div class="result-item">
                    <div class="result-header flex justify-between items-center" onclick="toggleDetails(${index})">
                        <div>
                            <h3 class="text-lg font-bold text-blue-700">${item.word || uiStrings[lang].wordNotFound}</h3>
                            <p class="text-md text-gray-700">${item.translation || ''}</p>
                        </div>
                        <div class="flex items-center gap-4">
                            <span class="speak-btn text-2xl" onclick="speakText(event, '${item.word ? item.word.replace(/'/g, "\\'") : ''}', '${targetLangCode}')">ğŸ”Š</span>
                            <span id="chevron-${index}" class="text-2xl transition-transform">â–¼</span>
                        </div>
                    </div>
                    <div id="details-${index}" class="result-details bg-white border-t border-gray-200 space-y-4">
                        <div>
                            <strong>${uiStrings[lang].definition}:</strong>
                            <p class="mt-1 text-gray-800">${item.definition || 'N/A'}</p>
                        </div>
                        <div>
                            <strong>${uiStrings[lang].grammar}:</strong>
                            <p class="mt-1 text-gray-800">${item.grammar || 'N/A'}</p>
                        </div>
                        <div>
                            <strong>${uiStrings[lang].collocations}:</strong>
                            <p class="mt-1 text-gray-800">${item.collocations || 'N/A'}</p>
                        </div>
                        <div>
                            <strong>${uiStrings[lang].examples}:</strong>
                            <ul class="list-disc ${listPaddingClass} mt-1 space-y-2">
                                ${ (item.exampleslist || []).map(ex => {
                                    const parts = ex.split(' - ');
                                    const original = parts[0].substring(parts[0].indexOf('.') + 1).trim();
                                    const translation = parts[1] || '';
                                    return `<li>
                                                <div class="flex items-center gap-2">
                                                    <span>${original}</span>
                                                    <span class="speak-btn text-lg" onclick="speakText(event, '${original.replace(/'/g, "\\'")}', '${targetLangCode}')">ğŸ”Š</span>
                                                </div>
                                                <p class="text-sm text-gray-500">${translation}</p>
                                            </li>`;
                                }).join('')}
                            </ul>
                        </div>
                         <div>
                            <strong>${uiStrings[lang].commonMistakes}:</strong>
                            <p class="mt-1 text-gray-800">${item.commonmistakes || 'N/A'}</p>
                        </div>
                        <div>
                            <strong>${uiStrings[lang].contextNote}:</strong>
                            <p class="mt-1 text-gray-800">${item.contextnote || 'N/A'}</p>
                        </div>
                    </div>
                </div>`;
        });
        html += '</div>';
        resultsList.innerHTML = html;
    }
    
    // --- ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ---

    function speakText(event, text, langCode) {
        event.stopPropagation(); 
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = langCode;
        speechSynthesis.speak(utterance);
    }
    
    function getLangCode(langName) {
        const codes = { 'English': 'en-US', 'German': 'de-DE', 'French': 'fr-FR', 'Spanish': 'es-ES', 'Italian': 'it-IT', 'Russian': 'ru-RU', 'Turkish': 'tr-TR', 'Chinese': 'zh-CN', 'Persian': 'fa-IR' };
        return codes[langName] || 'en-US';
    }

    function toggleDetails(index) {
        const details = document.getElementById(`details-${index}`);
        const chevron = document.getElementById(`chevron-${index}`);
        details.classList.toggle('open');
        chevron.style.transform = details.classList.contains('open') ? 'rotate(180deg)' : 'rotate(0deg)';
    }

    function showError(message) {
        errorMsg.textContent = message;
        errorMsg.classList.remove('hidden');
    }

    function hideError() {
        errorMsg.classList.add('hidden');
    }

    // --- Internationalization (i18n) ---
    let currentLang = 'fa';
    const uiStrings = {
        fa: {
            appTitle: "ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø²Ø¨Ø§Ù† Ø¨Ø§ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ",
            mainTitle: "Ø³Ø§Ø²Ù†Ø¯Ù‡ ÙˆØ§Ú˜Ú¯Ø§Ù† Ù‡ÙˆØ´Ù…Ù†Ø¯",
            subtitle: "Ø²Ø¨Ø§Ù† Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡ Ùˆ Ù…ØªÙ† Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.",
            sourceLangLabel: "Ø²Ø¨Ø§Ù† Ù…Ø§Ø¯Ø±ÛŒ Ù…Ù†",
            targetLangLabel: "Ø²Ø¨Ø§Ù†ÛŒ Ú©Ù‡ ÛŒØ§Ø¯ Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù…",
            userLevelLabel: "Ø³Ø·Ø­ Ù…Ù†",
            levelUnspecified: "Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡",
            levelA1: "A1 (Ù…Ø¨ØªØ¯ÛŒ)",
            levelA2: "A2 (Ø§Ø¨ØªØ¯Ø§ÛŒÛŒ)",
            levelB1: "B1 (Ù…ØªÙˆØ³Ø·)",
            levelB2: "B2 (ÙÙˆÙ‚ Ù…ØªÙˆØ³Ø·)",
            levelC1: "C1 (Ù¾ÛŒØ´Ø±ÙØªÙ‡)",
            textPlaceholder: "Ù„ÛŒØ³Øª Ú©Ù„Ù…Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ØŒ ÛŒØ§ ÛŒÚ© Ù…ØªÙ† Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ø¬Ø§ÛŒâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯...",
            uploadBtnText: "Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ (.txt, .srt)",
            processBtn: "ØªØ­Ù„ÛŒÙ„ Ú©Ù†",
            resultsTitle: "Ù†ØªØ§ÛŒØ¬ ØªØ­Ù„ÛŒÙ„",
            startOverBtn: "Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡",
            errorLevel: "Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ù…ØªÙ†â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒØŒ Ù„Ø·ÙØ§Ù‹ Ø³Ø·Ø­ Ø²Ø¨Ø§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ ØªØ§ ÙˆØ§Ú˜Ú¯Ø§Ù† Ù…ØªÙ†Ø§Ø³Ø¨ Ø¨Ø§ Ø³Ø·Ø­ Ø´Ù…Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø´ÙˆØ¯.",
            errorText: "Ù„Ø·ÙØ§Ù‹ Ù…ØªÙ†ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ ÙˆØ§Ø±Ø¯ ÛŒØ§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯.",
            errorAIResponse: "Ù¾Ø§Ø³Ø® Ù…Ø¹ØªØ¨Ø±ÛŒ Ø§Ø² Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯.",
            errorServer: "Ù…Ø´Ú©Ù„ÛŒ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ± Ù¾ÛŒØ´ Ø¢Ù…Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.",
            errorNoResults: "Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù…ÙˆØ±Ø¯ÛŒ Ù…ØªÙ†Ø§Ø³Ø¨ Ø¨Ø§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ Ù¾ÛŒØ¯Ø§ Ù†Ú©Ø±Ø¯. Ù„Ø·ÙØ§Ù‹ Ù…ØªÙ† Ø¯ÛŒÚ¯Ø±ÛŒ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒØ¯.",
            wordNotFound: "Ú©Ù„Ù…Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯",
            definition: "ØªØ¹Ø±ÛŒÙ",
            grammar: "Ù†ÙˆØ¹ Ú¯Ø±Ø§Ù…Ø±",
            collocations: "ØªØ±Ú©ÛŒØ¨â€ŒÙ‡Ø§ÛŒ Ø±Ø§ÛŒØ¬",
            examples: "Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§",
            commonMistakes: "Ø§Ø´ØªØ¨Ø§Ù‡Ø§Øª Ø±Ø§ÛŒØ¬",
            contextNote: "Ù†Ú©ØªÙ‡",
        },
        en: {
            appTitle: "AI Language Learner",
            mainTitle: "Smart Vocabulary Builder",
            subtitle: "Select your languages and enter text to analyze.",
            sourceLangLabel: "My Native Language",
            targetLangLabel: "Language I'm Learning",
            userLevelLabel: "My Level",
            levelUnspecified: "Unspecified",
            levelA1: "A1 (Beginner)",
            levelA2: "A2 (Elementary)",
            levelB1: "B1 (Intermediate)",
            levelB2: "B2 (Upper-Intermediate)",
            levelC1: "C1 (Advanced)",
            textPlaceholder: "Enter your word list here, or paste a long text to analyze...",
            uploadBtnText: "Upload File (.txt, .srt)",
            processBtn: "Analyze",
            resultsTitle: "Analysis Results",
            startOverBtn: "Start Over",
            errorLevel: "For long texts, please select your proficiency level to extract suitable vocabulary.",
            errorText: "Please enter or upload some text to analyze.",
            errorAIResponse: "No valid response from AI.",
            errorServer: "A problem occurred connecting to the server. Please try again.",
            errorNoResults: "The AI did not find any items matching your request. Please try another text.",
            wordNotFound: "Word not found",
            definition: "Definition",
            grammar: "Grammar",
            collocations: "Collocations",
            examples: "Examples",
            commonMistakes: "Common Mistakes",
            contextNote: "Context/Note",
        },
        de: {
            appTitle: "KI-Sprachlerner",
            mainTitle: "Intelligenter Vokabeltrainer",
            subtitle: "WÃ¤hlen Sie Ihre Sprachen aus und geben Sie Text zur Analyse ein.",
            sourceLangLabel: "Meine Muttersprache",
            targetLangLabel: "Sprache, die ich lerne",
            userLevelLabel: "Mein Niveau",
            levelUnspecified: "Nicht angegeben",
            levelA1: "A1 (AnfÃ¤nger)",
            levelA2: "A2 (Grundlegend)",
            levelB1: "B1 (Mittelstufe)",
            levelB2: "B2 (Obere Mittelstufe)",
            levelC1: "C1 (Fortgeschritten)",
            textPlaceholder: "Geben Sie hier Ihre Wortliste ein oder fÃ¼gen Sie einen langen Text zur Analyse ein...",
            uploadBtnText: "Datei hochladen (.txt, .srt)",
            processBtn: "Analysieren",
            resultsTitle: "Analyseergebnisse",
            startOverBtn: "Neu anfangen",
            errorLevel: "FÃ¼r lange Texte wÃ¤hlen Sie bitte Ihr Sprachniveau, um passendes Vokabular zu extrahieren.",
            errorText: "Bitte geben Sie Text zur Analyse ein oder laden Sie ihn hoch.",
            errorAIResponse: "Keine gÃ¼ltige Antwort von der KI.",
            errorServer: "Problem bei der Verbindung zum Server. Bitte versuchen Sie es erneut.",
            errorNoResults: "Die KI hat keine passenden Elemente gefunden. Bitte versuchen Sie einen anderen Text.",
            wordNotFound: "Wort nicht gefunden",
            definition: "Definition",
            grammar: "Grammatik",
            collocations: "Kollokationen",
            examples: "Beispiele",
            commonMistakes: "HÃ¤ufige Fehler",
            contextNote: "Kontext/Notiz",
        },
        fr: {
            appTitle: "Apprentissage des langues par l'IA",
            mainTitle: "Constructeur de vocabulaire intelligent",
            subtitle: "SÃ©lectionnez vos langues et entrez du texte Ã  analyser.",
            sourceLangLabel: "Ma langue maternelle",
            targetLangLabel: "Langue que j'apprends",
            userLevelLabel: "Mon niveau",
            levelUnspecified: "Non spÃ©cifiÃ©",
            levelA1: "A1 (DÃ©butant)",
            levelA2: "A2 (Ã‰lÃ©mentaire)",
            levelB1: "B1 (IntermÃ©diaire)",
            levelB2: "B2 (IntermÃ©diaire supÃ©rieur)",
            levelC1: "C1 (AvancÃ©)",
            textPlaceholder: "Entrez votre liste de mots ici, ou collez un long texte Ã  analyser...",
            uploadBtnText: "TÃ©lÃ©charger un fichier (.txt, .srt)",
            processBtn: "Analyser",
            resultsTitle: "RÃ©sultats de l'analyse",
            startOverBtn: "Recommencer",
            errorLevel: "Pour les textes longs, veuillez sÃ©lectionner votre niveau pour extraire le vocabulaire appropriÃ©.",
            errorText: "Veuillez saisir ou tÃ©lÃ©charger du texte Ã  analyser.",
            errorAIResponse: "Aucune rÃ©ponse valide de l'IA.",
            errorServer: "Un problÃ¨me est survenu lors de la connexion au serveur. Veuillez rÃ©essayer.",
            errorNoResults: "L'IA n'a trouvÃ© aucun Ã©lÃ©ment correspondant. Veuillez essayer un autre texte.",
            wordNotFound: "Mot non trouvÃ©",
            definition: "DÃ©finition",
            grammar: "Grammaire",
            collocations: "Collocations",
            examples: "Exemples",
            commonMistakes: "Erreurs courantes",
            contextNote: "Contexte/Note",
        },
        es: {
            appTitle: "Aprendizaje de idiomas con IA",
            mainTitle: "Constructor de vocabulario inteligente",
            subtitle: "Seleccione sus idiomas e ingrese texto para analizar.",
            sourceLangLabel: "Mi lengua materna",
            targetLangLabel: "Idioma que estoy aprendiendo",
            userLevelLabel: "Mi nivel",
            levelUnspecified: "No especificado",
            levelA1: "A1 (Principiante)",
            levelA2: "A2 (Elemental)",
            levelB1: "B1 (Intermedio)",
            levelB2: "B2 (Intermedio alto)",
            levelC1: "C1 (Avanzado)",
            textPlaceholder: "Ingrese su lista de palabras aquÃ­, o pegue un texto largo para analizar...",
            uploadBtnText: "Subir archivo (.txt, .srt)",
            processBtn: "Analizar",
            resultsTitle: "Resultados del anÃ¡lisis",
            startOverBtn: "Empezar de nuevo",
            errorLevel: "Para textos largos, seleccione su nivel para extraer el vocabulario adecuado.",
            errorText: "Por favor, ingrese o suba un texto para analizar.",
            errorAIResponse: "No hay respuesta vÃ¡lida de la IA.",
            errorServer: "OcurriÃ³ un problema al conectarse al servidor. Por favor, intÃ©ntelo de nuevo.",
            errorNoResults: "La IA no encontrÃ³ ningÃºn elemento coincidente. Por favor, intente con otro texto.",
            wordNotFound: "Palabra no encontrada",
            definition: "DefiniciÃ³n",
            grammar: "GramÃ¡tica",
            collocations: "Colocaciones",
            examples: "Ejemplos",
            commonMistakes: "Errores comunes",
            contextNote: "Contexto/Nota",
        },
        zh: {
            appTitle: "äººå·¥æ™ºèƒ½è¯­è¨€å­¦ä¹ å™¨",
            mainTitle: "æ™ºèƒ½è¯æ±‡æ„å»ºå™¨",
            subtitle: "é€‰æ‹©æ‚¨çš„è¯­è¨€å¹¶è¾“å…¥æ–‡æœ¬è¿›è¡Œåˆ†æã€‚",
            sourceLangLabel: "æˆ‘çš„æ¯è¯­",
            targetLangLabel: "æˆ‘æ­£åœ¨å­¦ä¹ çš„è¯­è¨€",
            userLevelLabel: "æˆ‘çš„æ°´å¹³",
            levelUnspecified: "æœªæŒ‡å®š",
            levelA1: "A1 (åˆå­¦è€…)",
            levelA2: "A2 (åˆçº§)",
            levelB1: "B1 (ä¸­çº§)",
            levelB2: "B2 (ä¸­é«˜çº§)",
            levelC1: "C1 (é«˜çº§)",
            textPlaceholder: "åœ¨æ­¤å¤„è¾“å…¥æ‚¨çš„å•è¯åˆ—è¡¨ï¼Œæˆ–ç²˜è´´é•¿æ–‡æœ¬è¿›è¡Œåˆ†æ...",
            uploadBtnText: "ä¸Šä¼ æ–‡ä»¶ (.txt, .srt)",
            processBtn: "åˆ†æ",
            resultsTitle: "åˆ†æç»“æœ",
            startOverBtn: "é‡æ–°å¼€å§‹",
            errorLevel: "å¯¹äºé•¿æ–‡æœ¬ï¼Œè¯·é€‰æ‹©æ‚¨çš„æ°´å¹³ä»¥ä¾¿æå–åˆé€‚çš„è¯æ±‡ã€‚",
            errorText: "è¯·è¾“å…¥æˆ–ä¸Šä¼ ä¸€äº›æ–‡æœ¬è¿›è¡Œåˆ†æã€‚",
            errorAIResponse: "AIæ— æœ‰æ•ˆå“åº”ã€‚",
            errorServer: "è¿æ¥æœåŠ¡å™¨æ—¶å‡ºç°é—®é¢˜ã€‚è¯·å†è¯•ä¸€æ¬¡ã€‚",
            errorNoResults: "AIæœªæ‰¾åˆ°ä»»ä½•åŒ¹é…é¡¹ã€‚è¯·å°è¯•å…¶ä»–æ–‡æœ¬ã€‚",
            wordNotFound: "æœªæ‰¾åˆ°å•è¯",
            definition: "å®šä¹‰",
            grammar: "è¯­æ³•",
            collocations: "æ­é…",
            examples: "ä¾‹å­",
            commonMistakes: "å¸¸è§é”™è¯¯",
            contextNote: "è¯­å¢ƒ/è¯´æ˜",
        },
        tr: {
            appTitle: "Yapay Zeka ile Dil Ã–ÄŸrenimi",
            mainTitle: "AkÄ±llÄ± Kelime OluÅŸturucu",
            subtitle: "Dillerinizi seÃ§in ve analiz etmek iÃ§in metin girin.",
            sourceLangLabel: "Ana Dilim",
            targetLangLabel: "Ã–ÄŸrendiÄŸim Dil",
            userLevelLabel: "Seviyem",
            levelUnspecified: "BelirtilmemiÅŸ",
            levelA1: "A1 (BaÅŸlangÄ±Ã§)",
            levelA2: "A2 (Temel)",
            levelB1: "B1 (Orta)",
            levelB2: "B2 (Orta-Ã¼stÃ¼)",
            levelC1: "C1 (Ä°leri)",
            textPlaceholder: "Kelime listenizi buraya girin veya analiz iÃ§in uzun bir metin yapÄ±ÅŸtÄ±rÄ±n...",
            uploadBtnText: "Dosya YÃ¼kle (.txt, .srt)",
            processBtn: "Analiz Et",
            resultsTitle: "Analiz SonuÃ§larÄ±",
            startOverBtn: "Yeniden BaÅŸla",
            errorLevel: "Uzun metinler iÃ§in uygun kelimeleri Ã§Ä±karmak Ã¼zere lÃ¼tfen seviyenizi seÃ§in.",
            errorText: "LÃ¼tfen analiz iÃ§in bir metin girin veya yÃ¼kleyin.",
            errorAIResponse: "Yapay zekadan geÃ§erli bir yanÄ±t alÄ±namadÄ±.",
            errorServer: "Sunucuya baÄŸlanÄ±rken bir sorun oluÅŸtu. LÃ¼tfen tekrar deneyin.",
            errorNoResults: "Yapay zeka isteÄŸinizle eÅŸleÅŸen bir Ã¶ÄŸe bulamadÄ±. LÃ¼tfen baÅŸka bir metin deneyin.",
            wordNotFound: "Kelime bulunamadÄ±",
            definition: "TanÄ±m",
            grammar: "Gramer",
            collocations: "Birlikte KullanÄ±mlar",
            examples: "Ã–rnekler",
            commonMistakes: "YaygÄ±n Hatalar",
            contextNote: "BaÄŸlam/Not",
        },
        it: {
            appTitle: "Apprendimento delle lingue con IA",
            mainTitle: "Costruttore di vocabolario intelligente",
            subtitle: "Seleziona le tue lingue e inserisci il testo da analizzare.",
            sourceLangLabel: "La mia lingua madre",
            targetLangLabel: "Lingua che sto imparando",
            userLevelLabel: "Il mio livello",
            levelUnspecified: "Non specificato",
            levelA1: "A1 (Principiante)",
            levelA2: "A2 (Elementare)",
            levelB1: "B1 (Intermedio)",
            levelB2: "B2 (Intermedio-superiore)",
            levelC1: "C1 (Avanzato)",
            textPlaceholder: "Inserisci qui la tua lista di parole, o incolla un testo lungo da analizzare...",
            uploadBtnText: "Carica File (.txt, .srt)",
            processBtn: "Analizza",
            resultsTitle: "Risultati dell'analisi",
            startOverBtn: "Ricomincia",
            errorLevel: "Per testi lunghi, seleziona il tuo livello per estrarre il vocabolario appropriato.",
            errorText: "Inserisci o carica un testo da analizzare.",
            errorAIResponse: "Nessuna risposta valida dall'IA.",
            errorServer: "Si Ã¨ verificato un problema durante la connessione al server. Riprova.",
            errorNoResults: "L'IA non ha trovato elementi corrispondenti. Prova con un altro testo.",
            wordNotFound: "Parola non trovata",
            definition: "Definizione",
            grammar: "Grammatica",
            collocations: "Collocazioni",
            examples: "Esempi",
            commonMistakes: "Errori comuni",
            contextNote: "Contesto/Nota",
        },
        ru: {
            appTitle: "Ğ˜Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ·Ñ‹ĞºĞ¾Ğ² Ñ Ğ˜Ğ˜",
            mainTitle: "Ğ£Ğ¼Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚Ğ¾Ñ€ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿Ğ°ÑĞ°",
            subtitle: "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹ĞºĞ¸ Ğ¸ Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°.",
            sourceLangLabel: "ĞœĞ¾Ğ¹ Ñ€Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ÑĞ·Ñ‹Ğº",
            targetLangLabel: "Ğ¯Ğ·Ñ‹Ğº, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ñ Ğ¸Ğ·ÑƒÑ‡Ğ°Ñ",
            userLevelLabel: "ĞœĞ¾Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ",
            levelUnspecified: "ĞĞµ ÑƒĞºĞ°Ğ·Ğ°Ğ½",
            levelA1: "A1 (ĞĞ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‰Ğ¸Ğ¹)",
            levelA2: "A2 (Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ½Ñ‹Ğ¹)",
            levelB1: "B1 (Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹)",
            levelB2: "B2 (Ğ’Ñ‹ÑˆĞµ ÑÑ€ĞµĞ´Ğ½ĞµĞ³Ğ¾)",
            levelC1: "C1 (ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğ¹)",
            textPlaceholder: "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑĞ²Ğ¾Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº ÑĞ»Ğ¾Ğ² Ğ·Ğ´ĞµÑÑŒ Ğ¸Ğ»Ğ¸ Ğ²ÑÑ‚Ğ°Ğ²ÑŒÑ‚Ğµ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°...",
            uploadBtnText: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» (.txt, .srt)",
            processBtn: "ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ",
            resultsTitle: "Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°",
            startOverBtn: "ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ°",
            errorLevel: "Ğ”Ğ»Ñ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ², Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ²Ğ¾Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ´Ğ»Ñ Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ÑÑ‰ĞµĞ¹ Ğ»ĞµĞºÑĞ¸ĞºĞ¸.",
            errorText: "ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ¸Ğ»Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚Ğµ Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°.",
            errorAIResponse: "ĞĞµÑ‚ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ¾Ñ‚ Ğ˜Ğ˜.",
            errorServer: "Ğ’Ğ¾Ğ·Ğ½Ğ¸ĞºĞ»Ğ° Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ° Ñ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸ĞµĞ¼ Ğº ÑĞµÑ€Ğ²ĞµÑ€Ñƒ. ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ĞµÑ‰Ğµ Ñ€Ğ°Ğ·.",
            errorNoResults: "Ğ˜Ğ˜ Ğ½Ğµ Ğ½Ğ°ÑˆĞµĞ» ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğ¹. ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ñ‚ĞµĞºÑÑ‚.",
            wordNotFound: "Ğ¡Ğ»Ğ¾Ğ²Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾",
            definition: "ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ",
            grammar: "Ğ“Ñ€Ğ°Ğ¼Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°",
            collocations: "Ğ¡Ğ»Ğ¾Ğ²Ğ¾ÑĞ¾Ñ‡ĞµÑ‚Ğ°Ğ½Ğ¸Ñ",
            examples: "ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹",
            commonMistakes: "Ğ§Ğ°ÑÑ‚Ñ‹Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸",
            contextNote: "ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚/ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ",
        },
    };

    function setLanguage(lang) {
        currentLang = lang;
        const strings = uiStrings[lang];
        const isRtl = lang === 'fa';
        
        document.documentElement.lang = lang;
        document.documentElement.dir = isRtl ? 'rtl' : 'ltr';

        document.getElementById('app-title').textContent = strings.appTitle;
        document.getElementById('main-title').textContent = strings.mainTitle;
        document.getElementById('subtitle').textContent = strings.subtitle;
        document.getElementById('source-lang-label').textContent = strings.sourceLangLabel;
        document.getElementById('target-lang-label').textContent = strings.targetLangLabel;
        document.getElementById('user-level-label').textContent = strings.userLevelLabel;
        document.getElementById('level-unspecified').textContent = strings.levelUnspecified;
        document.getElementById('level-a1').textContent = strings.levelA1;
        document.getElementById('level-a2').textContent = strings.levelA2;
        document.getElementById('level-b1').textContent = strings.levelB1;
        document.getElementById('level-b2').textContent = strings.levelB2;
        document.getElementById('level-c1').textContent = strings.levelC1;
        document.getElementById('text-input').placeholder = strings.textPlaceholder;
        document.getElementById('upload-btn-text').textContent = strings.uploadBtnText;
        document.getElementById('process-btn').textContent = strings.processBtn;
        document.getElementById('results-title').textContent = strings.resultsTitle;
        document.getElementById('start-over-btn').textContent = strings.startOverBtn;
    }

    // Initialize with default language
    document.addEventListener('DOMContentLoaded', () => {
        setLanguage('fa');
    });

</script>

</body>
</html>

